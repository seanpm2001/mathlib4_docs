{"name":"Mathlib.Util.CountHeartbeats","instances":[],"imports":["Init","Mathlib.Lean.CoreM","Std.Tactic.TryThis"],"declarations":[{"sourceLink":"https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Util/CountHeartbeats.lean#L27-L62","name":"Mathlib.CountHeartbeats.commandCount_heartbeatsIn__","kind":"def","docLink":"./Mathlib/Util/CountHeartbeats.html#Mathlib.CountHeartbeats.commandCount_heartbeatsIn__","doc":"Count the heartbeats used in the enclosed command.\n\nThis is most useful for setting sufficient but reasonable limits via `set_option maxHeartbeats`\nfor long running declarations.\n\nIf you do so, please resist the temptation to set the limit as low as possible.\nAs the `simp` set and other features of the library evolve,\nother contributors will find that their (likely unrelated) changes\nhave pushed the declaration over the limit.\n`count_heartbearts in` will automatically suggest a `set_option maxHeartbeats` via \"Try this:\"\nusing the least number of the form `2^k * 200000` that suffices.\n\nNote that that internal heartbeat counter accessible via `IO.getNumHeartbeats`\nhas granularity 1000 times finer that the limits set by `set_option maxHeartbeats`.\nAs this is intended as a user command, we divide by 1000.\n"}]}