<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="stylesheet" href="../.././src/pygments.css"></link><link rel="shortcut icon" href="../.././favicon.ico"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.Mathport.Notation</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Mathlib.Mathport.Notation";</script><script type="module" src="../.././search.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label>Documentation</h1><p class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">Mathport</span>.<span class="name">Notation</span></p><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib4_docs"></input><input type="text" name="q" autocomplete="off"></input>&#32;
            <button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button><button>Google site search</button></form></header><nav class="internal_nav"><h3><a class="break_within" href="#top"><span class="name">Mathlib</span>.<span class="name">Mathport</span>.<span class="name">Notation</span></a></h3><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init.html">Init</a></li><li><a href="../.././Mathlib/Lean/Expr.html">Mathlib.Lean.Expr</a></li><li><a href="../.././Mathlib/Util/Syntax.html">Mathlib.Util.Syntax</a></li><li><a href="../.././Std/Data/Option/Basic.html">Std.Data.Option.Basic</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.Mathport.Notation" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.«termExpand_binders%(_=>_)_,_»"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">«termExpand_binders%(_=>_)_,_»</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.expandFoldl"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">expandFoldl</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.expandFoldr"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">expandFoldr</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.foldKind"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">foldKind</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.bindersItem"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">bindersItem</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.foldAction"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">foldAction</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.identOptScoped"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">identOptScoped</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.notation3Item"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">notation3Item</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.MatchState"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.Matcher"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">Matcher</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.MatchState.empty"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span>.<span class="name">empty</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.MatchState.withVar"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span>.<span class="name">withVar</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.MatchState.delabVar"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span>.<span class="name">delabVar</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.MatchState.captureSubexpr"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span>.<span class="name">captureSubexpr</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.MatchState.pushBinder"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span>.<span class="name">pushBinder</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.MatchState.getFoldArray"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span>.<span class="name">getFoldArray</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.MatchState.pushFold"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span>.<span class="name">pushFold</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.matchVar"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">matchVar</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.matchConst"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">matchConst</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.matchFVar"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">matchFVar</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.natLitMatcher"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">natLitMatcher</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.getExplicitArgIndices"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">getExplicitArgIndices</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.getExplicitArgIndices.collectIdxs"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">getExplicitArgIndices</span>.<span class="name">collectIdxs</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.fnArgMatcher"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">fnArgMatcher</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.mkExprMatcher"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">mkExprMatcher</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.mkExprMatcher.processFn"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">mkExprMatcher</span>.<span class="name">processFn</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.matchScoped"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">matchScoped</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.matchScoped'"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">matchScoped'</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.mkScopedMatcher"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">mkScopedMatcher</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.matchFoldl"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">matchFoldl</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.mkFoldlMatcher"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">mkFoldlMatcher</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.mkFoldrMatcher"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">mkFoldrMatcher</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.mkNameFromSyntax"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">mkNameFromSyntax</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.BoundValueType"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">BoundValueType</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.prettyPrintOpt"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">prettyPrintOpt</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.getPrettyPrintOpt"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">getPrettyPrintOpt</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Notation3.«command___Notation3______=>_»"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">«command___Notation3______=>_»</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="The-notation3-macro-simulating-Lean-3-s-notation">The notation3 macro, simulating Lean 3's notation. <a class="hover-link" href="#The-notation3-macro-simulating-Lean-3-s-notation">#</a></h1></div><div class="mod_doc"><h3 class="markdown-heading" id="Syntaxes-supporting-notation3">Syntaxes supporting <code>notation3</code> <a class="hover-link" href="#Syntaxes-supporting-notation3">#</a></h3></div><div class="decl" id="Mathlib.Notation3.«termExpand_binders%(_=>_)_,_»"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L25-L32">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.«termExpand_binders%(_=>_)_,_»"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">«termExpand_binders%(_=>_)_,_»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>Expands binders into nested combinators.
For example, the familiar exists is given by:
<code>expand_binders% (p => <a href="../.././Init/Core.html#Exists">Exists</a> p) x y : Nat, x < y</code>
which expands to the same expression as
<code>∃ x y : Nat, x < y</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.«termExpand_binders%(_=>_)_,_»" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.expandFoldl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L55-L59">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.expandFoldl"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">expandFoldl</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.expandFoldl" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.expandFoldr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L60-L64">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.expandFoldr"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">expandFoldr</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.expandFoldr" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.foldKind"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L66-L67">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.foldKind"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">foldKind</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>Keywording indicating whether to use a left- or right-fold.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.foldKind" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.bindersItem"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L68-L69">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.bindersItem"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">bindersItem</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p><code>notation3</code> argument matching <code>extBinders</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.bindersItem" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.foldAction"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L70-L72">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.foldAction"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">foldAction</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p><code>notation3</code> argument simulating a Lean 3 fold notation.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.foldAction" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.identOptScoped"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L73-L75">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.identOptScoped"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">identOptScoped</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p><code>notation3</code> argument binding a name.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.identOptScoped" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.notation3Item"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L76-L79">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.notation3Item"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">notation3Item</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p><code>notation3</code> argument.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.notation3Item" class="instances-for-list"></ul></details></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Expression-matching">Expression matching <a class="hover-link" href="#Expression-matching">#</a></h3><p>A more complicated part of <code>notation3</code> is the delaborator generator.
While <code>notation</code> relies on generating app unexpanders, we instead generate a
delaborator directly so that we can control how binders are formatted (we want
to be able to know the types of binders, whether a lambda is a constant function,
and whether it is <code>Prop</code>-valued, which are not things we can answer once we pass
to app unexpanders).</p></div><div class="decl" id="Mathlib.Notation3.MatchState"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L92-L102">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="Mathlib.Notation3.MatchState.mk"><li id="Mathlib.Notation3.MatchState.vars" class="structure_field"><div class="structure_field_doc"><p>This stores the assignments of variables to subexpressions (and their contexts)
that have been found so far during the course of the matching algorithm.
We store the contexts since we need to delaborate expressions after we leave
scoping constructs.</p></div><div class="structure_field_info">vars : <span class="fn"><a href="../.././Lean/Data/HashMap.html#Lean.HashMap">Lean.HashMap</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a> (<span class="fn"><a href="../.././Lean/SubExpr.html#Lean.SubExpr">Lean.SubExpr</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/MetavarContext.html#Lean.LocalInstances">Lean.LocalInstances</a></span></span>)</span></div></li><li id="Mathlib.Notation3.MatchState.scopeState" class="structure_field"><div class="structure_field_doc"><p>The binders accumulated when matching a <code>scoped</code> expression.</p></div><div class="structure_field_info">scopeState : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`Std.ExtendedBinder.extBinderParenthesized</span></span>)</span></div></li><li id="Mathlib.Notation3.MatchState.foldState" class="structure_field"><div class="structure_field_doc"><p>The arrays of delaborated <code>Term</code>s accumulated while matching
<code><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.BoundValueType.foldl">foldl</a></code> and <code><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.BoundValueType.foldr">foldr</a></code> expressions. For <code><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.BoundValueType.foldl">foldl</a></code>, the arrays are stored in reverse order.</p></div><div class="structure_field_info">foldState : <span class="fn"><a href="../.././Lean/Data/HashMap.html#Lean.HashMap">Lean.HashMap</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a></span>)</span></div></li></ul><p>The dynamic state of a <code><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Matcher</a></code>.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.MatchState" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.Matcher"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L105-L106">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">Matcher</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A matcher is a delaboration function that transforms <code><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState">MatchState</a></code>s.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a> <a href="../.././Init/Prelude.html#Eq">=</a>   (<span class="fn"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState">Mathlib.Notation3.MatchState</a> → <span class="fn"><a href="../.././Lean/PrettyPrinter/Delaborator/Basic.html#Lean.PrettyPrinter.Delaborator.DelabM">Lean.PrettyPrinter.Delaborator.DelabM</a> <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState">Mathlib.Notation3.MatchState</a></span></span>)</span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.Matcher" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.MatchState.empty"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L109-L112">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState.empty"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span>.<span class="name">empty</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState">Mathlib.Notation3.MatchState</a></div></div><p>The initial state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState.empty">Mathlib.Notation3.MatchState.empty</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">vars</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>, <span class="fn">scopeState</span> := <span class="fn">#[]</span>, <span class="fn">foldState</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a> }</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.MatchState.empty" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.MatchState.withVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L116-L119">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState.withVar"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span>.<span class="name">withVar</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(s : <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState">Mathlib.Notation3.MatchState</a>)</span></span>
<span class="decl_args">
<span class="fn">(name : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(m : <span class="fn"><a href="../.././Lean/PrettyPrinter/Delaborator/Basic.html#Lean.PrettyPrinter.Delaborator.DelabM">Lean.PrettyPrinter.Delaborator.DelabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/PrettyPrinter/Delaborator/Basic.html#Lean.PrettyPrinter.Delaborator.DelabM">Lean.PrettyPrinter.Delaborator.DelabM</a> <span class="fn">α</span></span></div></div><p>Evaluate <code>f</code> with the given variable's value as the <code>SubExpr</code> and within that subexpression's
saved context. Fails if the variable has no value.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.MatchState.withVar" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.MatchState.delabVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L124-L129">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState.delabVar"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span>.<span class="name">delabVar</span></a></span><span class="decl_args">
<span class="fn">(s : <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState">Mathlib.Notation3.MatchState</a>)</span></span>
<span class="decl_args">
<span class="fn">(name : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(checkNot? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/PrettyPrinter/Delaborator/Basic.html#Lean.PrettyPrinter.Delaborator.DelabM">Lean.PrettyPrinter.Delaborator.DelabM</a> <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a></span></div></div><p>Delaborate the given variable's value. Fails if the variable has no value.
If <code>checkNot</code> is provided, then checks that the expression being delaborated is not
the given one (this is used to prevent infinite loops).</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.MatchState.delabVar" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.MatchState.captureSubexpr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L132-L133">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState.captureSubexpr"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span>.<span class="name">captureSubexpr</span></a></span><span class="decl_args">
<span class="fn">(s : <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState">Mathlib.Notation3.MatchState</a>)</span></span>
<span class="decl_args">
<span class="fn">(name : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/PrettyPrinter/Delaborator/Basic.html#Lean.PrettyPrinter.Delaborator.DelabM">Lean.PrettyPrinter.Delaborator.DelabM</a> <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState">Mathlib.Notation3.MatchState</a></span></div></div><p>Assign a variable to the current <code>SubExpr</code>, capturing the local context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.MatchState.captureSubexpr" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.MatchState.pushBinder"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L136-L141">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState.pushBinder"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span>.<span class="name">pushBinder</span></a></span><span class="decl_args">
<span class="fn">(s : <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState">Mathlib.Notation3.MatchState</a>)</span></span>
<span class="decl_args">
<span class="fn">(b : <span class="fn"><a href="../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`Std.ExtendedBinder.extBinderParenthesized</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/PrettyPrinter/Delaborator/Basic.html#Lean.PrettyPrinter.Delaborator.DelabM">Lean.PrettyPrinter.Delaborator.DelabM</a> <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState">Mathlib.Notation3.MatchState</a></span></div></div><p>Push a binder onto the binder array. For <code>scoped</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState.pushBinder">Mathlib.Notation3.MatchState.pushBinder</a> <span class="fn">s</span> <span class="fn">b</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">let binders := <span class="fn"><span class="fn">s</span>.scopeState</span>;
  <span class="fn">let binders := <span class="fn"><a href="../.././Init/Prelude.html#Array.push">Array.push</a> <span class="fn">binders</span> <span class="fn">b</span></span>;
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">{ <span class="fn">vars</span> := <span class="fn"><span class="fn">s</span>.vars</span>, <span class="fn">scopeState</span> := <span class="fn">binders</span>, <span class="fn">foldState</span> := <span class="fn"><span class="fn">s</span>.foldState</span> }</span></span></span></span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.MatchState.pushBinder" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.MatchState.getFoldArray"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L145-L146">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState.getFoldArray"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span>.<span class="name">getFoldArray</span></a></span><span class="decl_args">
<span class="fn">(s : <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState">Mathlib.Notation3.MatchState</a>)</span></span>
<span class="decl_args">
<span class="fn">(name : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a></span></div></div><p>Get the accumulated array of delaborated terms for a given foldr/foldl.
Returns <code>#[]</code> if nothing has been pushed yet.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState.getFoldArray">Mathlib.Notation3.MatchState.getFoldArray</a> <span class="fn">s</span> <span class="fn">name</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.getD">Option.getD</a> (<span class="fn"><a href="../.././Lean/Data/HashMap.html#Lean.HashMap.find?">Lean.HashMap.find?</a> <span class="fn"><span class="fn">s</span>.foldState</span> <span class="fn">name</span></span>) <span class="fn">#[]</span></span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.MatchState.getFoldArray" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.MatchState.pushFold"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L149-L151">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState.pushFold"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">MatchState</span>.<span class="name">pushFold</span></a></span><span class="decl_args">
<span class="fn">(s : <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState">Mathlib.Notation3.MatchState</a>)</span></span>
<span class="decl_args">
<span class="fn">(name : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(t : <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.MatchState">Mathlib.Notation3.MatchState</a></div></div><p>Push a delaborated term onto a foldr/foldl array.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.MatchState.pushFold" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.matchVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L155-L160">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.matchVar"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">matchVar</span></a></span><span class="decl_args">
<span class="fn">(c : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a></div></div><p>Matcher that assigns the current <code>SubExpr</code> into the match state;
if a value already exists, then it checks for equality.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.matchVar" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.matchConst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L163-L165">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.matchConst"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">matchConst</span></a></span><span class="decl_args">
<span class="fn">(c : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a></div></div><p>Matcher for <code>Expr.const</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.matchConst">Mathlib.Notation3.matchConst</a> <span class="fn">c</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">Lean.PrettyPrinter.Delaborator.SubExpr.getExpr</span>
  <span class="fn"><a href="../.././Init/Control/Basic.html#guard">guard</a> (<span class="fn"><span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr.isConstOf">Lean.Expr.isConstOf</a> <span class="fn">__do_lift</span> <span class="fn">c</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">s</span></span></span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.matchConst" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.matchFVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L169-L172">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.matchFVar"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">matchFVar</span></a></span><span class="decl_args">
<span class="fn">(userName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a></div></div><p>Matcher for <code>Expr.fvar</code>. This is only used for <code>local notation3</code>.
It checks that the user name agrees, which isn't completely accurate, but probably sufficient.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.matchFVar" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.natLitMatcher"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L175-L180">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.natLitMatcher"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">natLitMatcher</span></a></span><span class="decl_args">
<span class="fn">(n : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a></div></div><p>Matches raw nat lits and <code><a href="../.././Init/Prelude.html#OfNat.ofNat">OfNat.ofNat</a></code> expressions.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.natLitMatcher" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.getExplicitArgIndices"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L187-L206">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.getExplicitArgIndices"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">getExplicitArgIndices</span></a></span><span class="decl_args">
<span class="fn">(f : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Control/Option.html#OptionT">OptionT</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Nat">Nat</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span>)</span></div></div><p>Given an identifier <code>f</code>, returns
(1) the resolved constant (if it's not an fvar)
(2) a Term for a matcher for the function
(3) the arity
(4) the positions at which the function takes an explicit argument</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.getExplicitArgIndices" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.getExplicitArgIndices.collectIdxs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L200-L206">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.getExplicitArgIndices.collectIdxs"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">getExplicitArgIndices</span>.<span class="name">collectIdxs</span></a></span><span class="decl_args">
<span class="fn">(ty : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Nat">Nat</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.getExplicitArgIndices.collectIdxs" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.fnArgMatcher"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L210-L218">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.fnArgMatcher"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">fnArgMatcher</span></a></span><span class="decl_args">
<span class="fn">(arity : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(matchf : <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a>)</span></span>
<span class="decl_args">
<span class="fn">(matchers : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<span class="fn"><a href="../.././Init/Prelude.html#Nat">Nat</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a></span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a></div></div><p>A matcher that runs <code>matchf</code> for the function and the <code>matchers</code> for the associated
argument indices. Fails if the function doesn't have exactly <code>arity</code> arguments.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.fnArgMatcher" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.mkExprMatcher"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L226-L263">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.mkExprMatcher"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">mkExprMatcher</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args">
<span class="fn">(boundNames : <span class="fn"><a href="../.././Lean/Data/HashSet.html#Lean.HashSet">Lean.HashSet</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Control/Option.html#OptionT">OptionT</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a></span>)</span></div></div><p>Returns a <code>Term</code> that represents a <code><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Matcher</a></code> for the given pattern <code>stx</code>.
The <code>boundNames</code> set determines which identifiers are variables in the pattern.
Fails in the <code><a href="../.././Init/Control/Option.html#OptionT">OptionT</a></code> sense if it comes across something it's unable to handle.</p><p>Also returns constant names that could serve as a key for a delaborator.
For example, if it's for a function <code>f</code>, then <code>app.f</code>.</p></div></div><div class="decl" id="Mathlib.Notation3.mkExprMatcher.processFn"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L250-L263">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.mkExprMatcher.processFn"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">mkExprMatcher</span>.<span class="name">processFn</span></a></span><span class="decl_args">
<span class="fn">(boundNames : <span class="fn"><a href="../.././Lean/Data/HashSet.html#Lean.HashSet">Lean.HashSet</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(f : <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args">
<span class="fn">(args : <span class="fn"><a href="../.././Init/Prelude.html#Lean.TSyntaxArray">Lean.TSyntaxArray</a> <span class="fn">`term</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Control/Option.html#OptionT">OptionT</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a></span>)</span></div></div></div></div><div class="decl" id="Mathlib.Notation3.matchScoped"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L273-L301">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.matchScoped"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">matchScoped</span></a></span><span class="decl_args">
<span class="fn">(lit : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(scopeId : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(smatcher : <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a></div></div><p>Matcher for processing <code>scoped</code> syntax. Assumes the expression to be matched
against is in the <code>lit</code> variable.</p><p>Runs <code>smatcher</code>, extracts the resulting <code>scopeId</code> variable, processes this value
(which must be a lambda) to produce a binder, and loops.</p><p>Succeeds even if it matches nothing, so it is up to the caller to decide if the
empty scope state is ok.</p></div></div><div class="decl" id="Mathlib.Notation3.matchScoped'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L304-L308">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.matchScoped'"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">matchScoped'</span></a></span><span class="decl_args">
<span class="fn">(lit : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(scopeId : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(smatcher : <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a></div></div><p>Like <code><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.matchScoped">matchScoped</a></code> but ensures that it matches at least one binder.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.matchScoped'" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.mkScopedMatcher"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L314-L318">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.mkScopedMatcher"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">mkScopedMatcher</span></a></span><span class="decl_args">
<span class="fn">(lit : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(scopeId : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(scopedTerm : <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args">
<span class="fn">(boundNames : <span class="fn"><a href="../.././Lean/Data/HashSet.html#Lean.HashSet">Lean.HashSet</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Control/Option.html#OptionT">OptionT</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.mkScopedMatcher" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.matchFoldl"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L321-L339">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.matchFoldl"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">matchFoldl</span></a></span><span class="decl_args">
<span class="fn">(lit : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(y : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(smatcher : <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a>)</span></span>
<span class="decl_args">
<span class="fn">(sinit : <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.Matcher">Mathlib.Notation3.Matcher</a></div></div><p>Matcher for expressions produced by <code><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.BoundValueType.foldl">foldl</a></code>.</p></div></div><div class="decl" id="Mathlib.Notation3.mkFoldlMatcher"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L343-L349">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.mkFoldlMatcher"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">mkFoldlMatcher</span></a></span><span class="decl_args">
<span class="fn">(lit : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(y : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(scopedTerm : <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args">
<span class="fn">(init : <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args">
<span class="fn">(boundNames : <span class="fn"><a href="../.././Lean/Data/HashSet.html#Lean.HashSet">Lean.HashSet</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Control/Option.html#OptionT">OptionT</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a></span>)</span></div></div><p>Create a <code>Term</code> that represents a matcher for <code><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.BoundValueType.foldl">foldl</a></code> notation.
Reminder: <code>( lit ","* =>  <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.BoundValueType.foldl">foldl</a> (x y => scopedTerm) init )</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.mkFoldlMatcher" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.mkFoldrMatcher"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L353-L360">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.mkFoldrMatcher"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">mkFoldrMatcher</span></a></span><span class="decl_args">
<span class="fn">(lit : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(y : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(scopedTerm : <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args">
<span class="fn">(init : <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args">
<span class="fn">(boundNames : <span class="fn"><a href="../.././Lean/Data/HashSet.html#Lean.HashSet">Lean.HashSet</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Control/Option.html#OptionT">OptionT</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a></span>)</span></div></div><p>Create a <code>Term</code> that represents a matcher for <code><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.BoundValueType.foldr">foldr</a></code> notation.
Reminder: <code>( lit ","* =>  <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.BoundValueType.foldr">foldr</a> (x y => scopedTerm) init )</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.mkFoldrMatcher" class="instances-for-list"></ul></details></div></div><div class="mod_doc"><h3 class="markdown-heading" id="The-notation3-command">The <code>notation3</code> command <a class="hover-link" href="#The-notation3-command">#</a></h3></div><div class="decl" id="Mathlib.Notation3.mkNameFromSyntax"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L366-L374">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.mkNameFromSyntax"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">mkNameFromSyntax</span></a></span><span class="decl_args">
<span class="fn">(name? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`Lean.Parser.Command.namedName</span></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(syntaxArgs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`stx</span></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(attrKind : <span class="fn"><a href="../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`Lean.Parser.Term.attrKind</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></div><p>Create a name that we can use for the <code>syntax</code> definition, using the
algorithm from <code>notation</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.mkNameFromSyntax" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.BoundValueType"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L378-L384">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.BoundValueType"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">BoundValueType</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><ul class="constructors"><li class="constructor" id="Mathlib.Notation3.BoundValueType.normal"><div class="inductive_ctor_doc"><p>A normal variable, delaborate its expression.</p></div>normal: <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.BoundValueType">Mathlib.Notation3.BoundValueType</a></li><li class="constructor" id="Mathlib.Notation3.BoundValueType.foldl"><div class="inductive_ctor_doc"><p>A fold variable, use the fold state (but reverse the array).</p></div>foldl: <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.BoundValueType">Mathlib.Notation3.BoundValueType</a></li><li class="constructor" id="Mathlib.Notation3.BoundValueType.foldr"><div class="inductive_ctor_doc"><p>A fold variable, use the fold state (do not reverse the array).</p></div>foldr: <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.BoundValueType">Mathlib.Notation3.BoundValueType</a></li></ul><p>Used when processing different kinds of variables when building the
final delaborator.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.BoundValueType" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.prettyPrintOpt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L386-L386">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.prettyPrintOpt"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">prettyPrintOpt</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.prettyPrintOpt" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.getPrettyPrintOpt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L389-L395">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.getPrettyPrintOpt"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">getPrettyPrintOpt</span></a></span><span class="decl_args">
<span class="fn">(opt? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`Mathlib.Notation3.prettyPrintOpt</span></span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Interpret a <code><a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.prettyPrintOpt">prettyPrintOpt</a></code>. The default value is <code>true</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.getPrettyPrintOpt" class="instances-for-list"></ul></details></div></div><div class="decl" id="Mathlib.Notation3.«command___Notation3______=>_»"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/44c828ca5b12983ef1d4eea5c54f95c2ef52cb36/Mathlib/Mathport/Notation.lean#L397-L560">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.«command___Notation3______=>_»"><span class="name">Mathlib</span>.<span class="name">Notation3</span>.<span class="name">«command___Notation3______=>_»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p><code>notation3</code> declares notation using Lean-3-style syntax.</p><p>Examples:</p><pre><code>notation3 "∀ᶠ " (...) " in " f ", " r:(scoped p => Filter.eventually p f) => r
notation3 "MyList[" (x", "* => <a href="../.././Mathlib/Mathport/Notation.html#Mathlib.Notation3.BoundValueType.foldr">foldr</a> (a b => MyList.cons a b) MyList.nil) "]" => x
</code></pre><p>By default notation is unable to mention any variables defined using <code>variable</code>, but
<code>local notation3</code> is able to use such local variables.</p><p>Use <code>notation3 (prettyPrint := false)</code> to keep the command from generating a pretty printer
for the notation.</p><p>This command can be used in mathlib4 but it has an uncertain future and was created primarily
for backward compatibility.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Mathlib.Notation3.«command___Notation3______=>_»" class="instances-for-list"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>